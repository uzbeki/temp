# VOD版（開発用）

12/29 現在、アプリ画面は開発用にユーザーネームとパスワードで認証を設けている。
パスワードファイル：`talkwith_cloud_開発時_webパスワード.txt`

# Chrome の設定でマイクをオンにする

http 通信をしているので以下が必要である。

1. Chrome のアドレスバーに次の URL を入力し設定画面に行く。`chrome://flags/#unsafely-treat-insecure-origin-as-secure`
2. `Insecure origins treated as secure`の欄にサーバーの IP アドレス(http://43.133.178.37)を入力する。
3. Enabled -> Relaunch を押す。
4. アプリ画面を再起動し、マイクを許可のポップアップで許可する。

# Chrome の設定で自動再生を許可する

[README.md を参照](README.md)
音声の再生を許可するサイト：http://43.133.178.37

# アプリのアクセス方法

* ブラウザからタブを2つ開く。
* 1つ目のタブで、`http://43.133.178.37`を開く。
* 2つ目のタブで、`http://43.133.178.37/admin/characters/vod`を開き、スタート動画を押すと1つ目のタブの方で会話画面が始まる。

# アプリで有効な言葉の一覧
女性の医者（鈴木先生）
[https://ai-operator.spjservice.com/admin/admin/qa](https://ai-operator.spjservice.com/admin/admin/qa)

# 注意

* 12/2あたりのオンプレ版のソースコードをベースに動かしている。
* 「有効な言葉を言うと動画が変わる」という機能しか実装していない。
* 設定画面周りは触らないでください。
* 動画のコントロールバーは開発用に表示していますが消せます。

# バグ

* 一度も（他の誰も）再生したことがないファイルを再生しようとすると2つのバグが発生する
  1. ダウンロードに時間がかかり、再生が止まる。
  2. 動画の切り替えがうまくいかない
__原因__
キャッシュサーバーにキャッシュされていないと思われる
__対応策__
  * VODの機能でプリフェッチを行う（未対応）。すると事前にキャッシュサーバーにファイルが置かれる。
  * しかし、2のバグは別の対応が必要である。

